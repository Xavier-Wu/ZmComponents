!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ZMaxCompanyComponents",[],e):"object"==typeof exports?exports.ZMaxCompanyComponents=e():t.ZMaxCompanyComponents=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=257)}({0:function(t,e){t.exports=function(t,e,n,i,r,a){var o,s=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,s=t.default);var c="function"==typeof s?s.options:s;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),r&&(c._scopeId=r);var u;if(a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=i),u){var d=c.functional,p=d?c.render:c.beforeCreate;d?(c._injectStyles=u,c.render=function(t,e){return u.call(e),p(t,e)}):c.beforeCreate=p?[].concat(p,u):[u]}return{esModule:o,exports:s,options:c}}},1:function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var a=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([a]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},2:function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=u[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(a(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{for(var o=[],r=0;r<n.parts.length;r++)o.push(a(n.parts[r]));u[n.id]={id:n.id,refs:1,parts:o}}}}function r(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function a(t){var e,n,i=document.querySelector("style["+m+'~="'+t.id+'"]');if(i){if(h)return v;i.parentNode.removeChild(i)}if(b){var a=f++;i=p||(p=r()),e=o.bind(null,i,a,!1),n=o.bind(null,i,a,!0)}else i=r(),e=s.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function o(t,e,n,i){var r=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function s(t,e){var n=e.css,i=e.media,r=e.sourceMap;if(i&&t.setAttribute("media",i),g.ssrId&&t.setAttribute(m,e.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=n(3),u={},d=l&&(document.head||document.getElementsByTagName("head")[0]),p=null,f=0,h=!1,v=function(){},g=null,m="data-vue-ssr-id",b="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n,r){h=n,g=r||{};var a=c(t,e);return i(a),function(e){for(var n=[],r=0;r<a.length;r++){var o=a[r],s=u[o.id];s.refs--,n.push(s)}e?(a=c(t,e),i(a)):a=[];for(var r=0;r<n.length;r++){var s=n[r];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete u[s.id]}}}};var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},257:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(258);i.a.install=function(t){return t.component(i.a.name,i.a)},e.default=i.a},258:function(t,e,n){"use strict";function i(t){n(259)}var r=n(76),a=n(262),o=n(0),s=i,l=o(r.a,a.a,!1,s,null,null);e.a=l.exports},259:function(t,e,n){var i=n(260);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(2)("5ff8a7ab",i,!0,{})},260:function(t,e,n){e=t.exports=n(1)(!1),e.push([t.i,".transform-icon-tag{transform:rotate(320deg)}.tag-table{list-style:none;margin:0;padding:0;border:1px solid #ebeef5}.tag-table .tag-table-header{border-bottom:1px solid #ebeef5;background-color:#f7f8fa;color:#303133}.tag-table .tag-table-header div{display:inline-block;vertical-align:middle;width:49%;text-align:center}.tag-table .tag-table-header div:first-child{text-align:left;padding-left:37px}.tag-table .tag-table-item{padding:10px 0;border-top:1px solid #ebeef5}.tag-table .tag-table-item div{display:inline-block;vertical-align:middle;width:49%;text-align:center}.tag-table .tag-table-item div:first-child{text-align:left;padding-left:10px}.tag-table .tag-table-item:nth-child(2){border-top:0}",""])},261:function(t,e,n){"use strict";e.a={props:{value:{type:Boolean,default:!1},obj:{type:Object,default:function(){return{}}},id:{type:[String,Number],default:""}},computed:{title:function(){return this.id?"编辑":"新增"}},methods:{dialogClose:function(){this.$emit("input",!1)}}}},262:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("i",{staticClass:"el-icon-price-tag transform-icon-tag fs20 vm mr10"}),t._v(" "),t._l(t.tags,function(e){return n("el-tag",{key:e[t.propsContent.label],staticClass:"mr5",attrs:{closable:t.closable,type:t.type},on:{close:function(n){return t.closeTag(e[t.propsContent.value])}}},[t._v("\n    "+t._s(e[t.propsContent.label])+"\n  ")])}),t._v(" "),t.closable?n("el-button",{staticClass:"ml10",attrs:{type:"primary",size:"mini"},on:{click:t.toAdd}},[t._v("添加标签")]):t._e(),t._v(" "),n("zm-dialog",{attrs:{title:"添加标签",visible:t.addShow,"append-to-body":"","before-close":t.dialogClose,"close-on-click-modal":!1,size:"small"},on:{"update:visible":function(e){t.addShow=e}}},[n("el-form",{ref:"form",attrs:{"label-width":"100px",model:t.obj}},[n("el-form-item",{attrs:{label:"标签:"}},[n("span",[t._v("卖品标签最多勾选"+t._s(t.max)+"个")])]),t._v(" "),t.addShow?n("el-form-item",{attrs:{label:""}},[n("ul",{staticClass:"tag-table"},[n("li",{staticClass:"tag-table-header"},[n("div",[t._v("标签内容")]),t._v(" "),n("div",[t._v("操作")])]),t._v(" "),t._l(t.tagList,function(e,i){return n("li",{key:i,staticClass:"tag-table-item"},[n("div",[n("el-checkbox",{staticClass:"mr10",attrs:{disabled:e.disabled},on:{change:t.getSelects},model:{value:e.checked,callback:function(n){t.$set(e,"checked",n)},expression:"item.checked"}}),t._v(" "),e.isEdit?n("el-input",{staticClass:"w230",attrs:{placeholder:"请输入标签名称，不超过3个字",maxlength:3},model:{value:e[t.propsContent.label],callback:function(n){t.$set(e,t.propsContent.label,n)},expression:"item[propsContent.label]"}}):n("span",[t._v(t._s(e[t.propsContent.label]))])],1),t._v(" "),n("div",[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"item.isEdit"}],attrs:{type:"text",disabled:!e[t.propsContent.label]},on:{click:function(n){return t.onOperateClick("confirm",e,i)}}},[t._v("确定")]),t._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"item.isEdit"}],attrs:{type:"text"},on:{click:function(n){return t.onOperateClick("cancel",e,i)}}},[t._v("取消")]),t._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e[t.propsContent.value],expression:"item[propsContent.value]"}],staticClass:"danger",attrs:{type:"text"},on:{click:function(n){return t.onOperateClick("del",e,i)}}},[t._v("删除")])],1)])})],2),t._v(" "),n("span",{class:t.isAdd||t.tagList.length>29?"info notAllow":"primary pointer",on:{click:t.toAddTag}},[t._v("+新增标签")])]):t._e()],1),t._v(" "),n("div",{staticClass:"tr",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.dialogClose}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary",disabled:t.selectList<1},on:{click:t.submit}},[t._v("确 定")])],1)],1)],2)},r=[],a={render:i,staticRenderFns:r};e.a=a},3:function(t,e){t.exports=function(t,e){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=a[0],s=a[1],l=a[2],c=a[3],u={id:t+":"+r,css:s,media:l,sourceMap:c};i[o]?i[o].parts.push(u):n.push(i[o]={id:o,parts:[u]})}return n}},76:function(t,e,n){"use strict";function i(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function i(r,a){try{var o=e[r](a),s=o.value}catch(t){return void n(t)}if(!o.done)return Promise.resolve(s).then(function(t){i("next",t)},function(t){i("throw",t)});t(s)}return i("next")})}}var r=n(261),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};e.a={name:"TagList",mixins:[r.a],props:{value:{type:String,default:""},type:{type:String,default:""},api:{type:Object,default:function(){return{list:function(){},add:function(){},del:function(){}}}},propsContent:{type:Object,default:function(){return{label:"name",value:"id"}}},params:{type:Object,default:function(){return{}}},closable:{type:Boolean,default:!0},max:{type:Number,default:2}},data:function(){return{tagList:[],addShow:!1,isAdd:!1,selectList:[]}},computed:{tags:function(){var t=this,e=this.value.split(",").filter(function(t){return t});return this.tagList&&this.tagList.length>0?this.tagList.filter(function(n){return e.includes(n[t.propsContent.value])}):[]}},created:function(){},mounted:function(){this.api.list&&this.getTagList()},methods:{closeTag:function(t){var e=this,n=this.tags.filter(function(n){return n[e.propsContent.value]!==t}),i=n.map(function(t){return t[e.propsContent.value]});this.$emit("input",i.join(","))},getTagList:function(){var t=this;return i(regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.tagList=[],n=t.value.split(",").filter(function(t){return t}),e.next=4,t.api.list(t.params);case 4:i=e.sent,i.forEach(function(e){e.isEdit=!1,e.checked=n.includes(e[t.propsContent.value])}),t.tagList=i,t.getSelects();case 8:case"end":return e.stop()}},e,t)}))()},getSelects:function(){var t=this,e=[];this.selectList=this.tagList.filter(function(n){return n.checked&&e.push(n[t.propsContent.value]),n.checked}),this.tagList.forEach(function(n){e.length===t.max?n.disabled=!n.checked:n.disabled=!1})},toAdd:function(){this.selectList=[],this.getTagList(),this.addShow=!0},onOperateClick:function(t,e,n){var i=this;switch(t){case"confirm":this.api.add({name:e.name}).then(function(){i.$message.success("操作成功"),i.getTagList()}),this.isAdd=!1;break;case"cancel":e[this.propsContent.value]?this.$set(this.tagList,n,a({},e,{isEdit:!1,checked:!1})):this.tagList.splice(n,1),this.isAdd=!1;break;case"del":this.api.del({id:e[this.propsContent.value]}).then(function(){i.$message.success("操作成功"),i.getTagList()})}this.getSelects()},toAddTag:function(){this.isAdd||(this.tagList.push({name:"",isEdit:!0,checked:!1}),this.isAdd=!0,this.getSelects())},dialogClose:function(){this.addShow=!1,this.isAdd=!1},submit:function(){var t=this,e=this.selectList.map(function(e){return e[t.propsContent.value]});this.$emit("input",e.join(",")),this.dialogClose()}}}}})});